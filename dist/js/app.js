!function(t){function e(e){for(var i,s,a=e[0],d=e[1],c=e[2],l=0,h=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(t[i]=d[i]);for(u&&u(e);h.length;)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var d=n[a];0!==r[d]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={0:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="./";var a=window.webpackJsonp=window.webpackJsonp||[],d=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=d;o.push([6,1]),n()}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15);e.Edit=i.Edit;var r=n(17);e.Store=r.Store;var o=n(18);e.Form=o.Form},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(16);e.userActions=i.userActions;var r=n(2);e.Actions=r.Actions},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.addCard=0]="addCard",t[t.removeCard=1]="removeCard",t[t.searchItems=2]="searchItems",t[t.hideEdit=3]="hideEdit",t[t.saveCard=4]="saveCard",t[t.editCard=5]="editCard",t[t.markDone=6]="markDone",t[t.markUnDone=7]="markUnDone"}(e.Actions||(e.Actions={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=function(){function t(){}return t.findByID=function(t,e){return t.find((function(t){return t.id===e}))},t.findByTitle=function(t,e){return""!==e.trim()?t.filter((function(t,n){return t.title.toLowerCase().includes(e.toLowerCase())})):t},t.getIndexByID=function(t,e){return t.findIndex((function(t){return t.id===e}))},t.filterByPriority=function(t,e){return"all"==e?t.sort((function(t,e){return Number(t.priority)-Number(e.priority)})):t.filter((function(t,n){return Number(t.priority)===Number(e)}))},t.filterByStatus=function(t,e){return e===i.Status.All?t:e===i.Status.Open?t.filter((function(t,e){return!1===t.done})):e===i.Status.Done?t.filter((function(t,e){return!0===t.done})):void 0},t.sortByStatus=function(t){t.sort((function(t){return t.done?1:-1}))},t.removeCard=function(e,n){var i=t.getIndexByID(e,n);-1!==i&&e.splice(i,1)},t.searchWithExactTitle=function(t,e){return-1!==t.findIndex((function(t){return t.title.toLowerCase().trim()===e.toLowerCase().trim()}))},t.searchWithExactTitleNotYorself=function(t,e,n){var i=t.find((function(t){return t.title.toLowerCase().trim()===e.toLowerCase().trim()}));return!!i&&i.id!==n},t}();e.CardsManager=r},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19);e.Modes=i.Modes;var r=n(20);e.Priority=r.Priority;var o=n(21);e.Status=o.Status},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(7),n(11),n(13);var i=n(0),r=n(22),o=n(0),s=n(0),a=n(26),d=new i.Store(r.mainReducer);new o.Edit(d),new s.Form(d),new a.ToDos(d)},,,,,,,function(t,e,n){var i=n(14);"string"==typeof i&&(i=[[t.i,i,""]]);var r={insert:"head",singleton:!1};n(4)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t){this.createButton=document.getElementById("createBut"),this.store=t,this.createButton.addEventListener("click",this.click.bind(this))}return t.prototype.click=function(){this.store.Dispatch(i.userActions.aDD_CARD())},t}();e.Edit=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.userActions={aDD_CARD:function(){return{type:i.Actions.addCard,value:"add"}},rEMOVE_CARD:function(t){return{type:i.Actions.removeCard,value:t}},sEARCH_CARDS:function(t){return{type:i.Actions.searchItems,value:t}},hide_EDIT:function(){return{type:i.Actions.hideEdit,value:"edit"}},save_Card:function(t){return{type:i.Actions.saveCard,value:t}},edit_Card:function(t){return{type:i.Actions.editCard,value:t}},set_Done:function(t){return{type:i.Actions.markDone,value:t}},set_Undone:function(t){return{type:i.Actions.markUnDone,value:t}}}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(e){var n=this;return this.storageKey="todos",this.store={todos:[],cardIDToEdit:-1,editActive:!1},this.subscribers=[],this.dispatchers=[],this.GetStore=function(){return n.getItems(),Object.freeze(i({},n.store))},t.Instance?t.Instance:"function"!=typeof e?null:(this.dispatchers.push(e),t.Instance=this,this.Dispatch=this.Dispatch.bind(this),void this.getItems())}return t.prototype.getItems=function(){var t=JSON.parse(localStorage.getItem(this.storageKey));t&&t.length>0?this.store.todos=t:this.setItems()},t.prototype.setItems=function(){localStorage.setItem(this.storageKey,JSON.stringify(this.store.todos))},t.prototype.RegisterDispatcher=function(t){"function"==typeof t&&this.dispatchers.push(t)},t.prototype.Subscribe=function(t){"function"==typeof t&&(this.subscribers.push(t),this.informSubs())},t.prototype.Dispatch=function(t){if(console.log(this),"object"==typeof t){var e=i({},this.store);console.log(e),this.dispatchers.forEach((function(n){e=n(e,t)})),this.store=e,this.setItems(),this.informSubs()}},t.prototype.informSubs=function(){var t=this;this.subscribers.forEach((function(e){return e(t.GetStore())}))},t}();e.Store=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3),o=function(){function t(t){this.modalWindow=document.getElementById("modal"),this.modeHeader=document.getElementById("modal-title"),this.title=document.getElementById("edit__title"),this.description=document.getElementById("edit__description"),this.priority=document.getElementById("edit__priority"),this.cancelButton=document.getElementById("edit__cancel"),this.closeButton=document.getElementById("modal-close"),this.saveButton=document.getElementById("edit__save"),this.store=t,this.cancelButton.addEventListener("click",this.cancel.bind(this)),this.saveButton.addEventListener("click",this.save.bind(this)),this.closeButton.addEventListener("click",this.cancel.bind(this)),t.Subscribe(this.show.bind(this))}return t.prototype.show=function(){var t=this.store.GetStore();if(t.editActive)if(this.modalWindow.style.display="block",this.title.focus(),-1!=t.cardIDToEdit){this.modeHeader.textContent="Edit Card";var e=r.CardsManager.findByID(t.todos,t.cardIDToEdit);this.title.value=e.title,console.log(e.priority),this.priority.selectedIndex=e.priority,this.description.value=e.description}else this.modeHeader.textContent="Create Card";else this.modalWindow.style.display="none"},t.prototype.clearFields=function(){this.title.value="",this.description.value="",this.priority.selectedIndex=1},t.prototype.cancel=function(){this.store.Dispatch(i.userActions.hide_EDIT()),this.clearFields()},t.prototype.save=function(){var t=this.store.GetStore();console.log(this.title.value.trim()),-1===t.cardIDToEdit?r.CardsManager.searchWithExactTitle(t.todos,this.title.value)?this.warning("Card with such title already exists!",t):""===this.title.value.trim()?this.warning("You can't save card without title!",t):(this.saver(),this.clearFields()):r.CardsManager.searchWithExactTitleNotYorself(t.todos,this.title.value,t.cardIDToEdit)?this.warning("Cards can't be duplicated!",t):""===this.title.value.trim()?this.warning("You can't leave card wihout title!",t):(this.saver(),this.clearFields())},t.prototype.saver=function(){this.store.Dispatch(i.userActions.save_Card({title:this.title.value,description:this.description.value,priority:this.priority.options[this.priority.selectedIndex].value}))},t.prototype.warning=function(t,e){var n=this;this.modeHeader.textContent=t,this.modeHeader.classList.add("text-danger"),this.modeHeader.focus(),setTimeout((function(){n.mode(e)}),3e3)},t.prototype.mode=function(t){-1!==t.cardIDToEdit?this.modeHeader.textContent="Edit Card":this.modeHeader.textContent="Create Card",this.modeHeader.classList.remove("text-danger")},t}();e.Form=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.Edit=function(){return this.edit},t.Create=function(){return this.create},t.edit="edit",t.create="create",t}();e.Modes=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.getHigh=function(){return this.high},t.getMed=function(){return this.med},t.getLow=function(){return this.low},t.GetName=function(t){switch(Number(t)){case this.high:return"High";case this.med:return"Medium";case this.low:return"Low";default:return"Unknown"}},t.high=2,t.med=1,t.low=0,t}();e.Priority=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return Object.defineProperty(t,"Open",{get:function(){return t.open},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Done",{get:function(){return t.done},enumerable:!0,configurable:!0}),Object.defineProperty(t,"All",{get:function(){return t.all},enumerable:!0,configurable:!0}),t.open="open",t.done="done",t.all="all",t}();e.Status=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(23);e.mainReducer=i.mainReducer},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(24),s=n(3);e.mainReducer=function(t,e){var n=i({},t);switch(console.log(n),e.type){case r.Actions.addCard:n.cardIDToEdit=-1,n.editActive=!0;break;case r.Actions.hideEdit:n.cardIDToEdit=-1,n.editActive=!1;break;case r.Actions.saveCard:if(-1!=n.cardIDToEdit){var a=s.CardsManager.getIndexByID(n.todos,n.cardIDToEdit);n.todos[a].title=e.value.title,n.todos[a].description=e.value.description,n.todos[a].priority=e.value.priority}else n.todos.push({id:o.IDManager.getId(),title:e.value.title,description:e.value.description,priority:e.value.priority,done:!1});n.editActive=!1,n.cardIDToEdit=-1;break;case r.Actions.removeCard:s.CardsManager.removeCard(n.todos,e.value);break;case r.Actions.editCard:n.cardIDToEdit=e.value,n.editActive=!0;break;case r.Actions.markDone:a=s.CardsManager.getIndexByID(n.todos,e.value);n.todos[a].done=!0;break;case r.Actions.markUnDone:a=s.CardsManager.getIndexByID(n.todos,e.value);n.todos[a].done=!1;break;default:return t}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(25);e.IDManager=i.IDManager},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.autoincrement=function(){t.currentId++},t.setId=function(){this.autoincrement(),localStorage.setItem("id",String(this.currentId))},t.readId=function(){localStorage.getItem("id")||localStorage.setItem("id",String(-1)),this.currentId=Number(localStorage.getItem("id"))},t.getId=function(){return this.readId(),this.setId(),t.currentId},t.currentId=-1,t}();e.IDManager=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n(3),o=n(1),s=function(){function t(t){this.searchField=document.getElementById("titleSearch"),this.statusSearch=document.getElementById("statusSearch"),this.prioritySearch=document.getElementById("prioritySearch"),this.container=document.querySelector(".todos"),this.store=t,this.store.Subscribe(this.renderCards.bind(this)),this.searchField.addEventListener("input",this.renderCards.bind(this)),this.statusSearch.addEventListener("change",this.renderCards.bind(this)),this.prioritySearch.addEventListener("change",this.renderCards.bind(this))}return t.prototype.renderCards=function(){var t=this,e=this.store.GetStore(),n=r.CardsManager.findByTitle(e.todos,this.searchField.value);n=r.CardsManager.filterByStatus(n,this.statusSearch.options[this.statusSearch.selectedIndex].value),n=r.CardsManager.filterByPriority(n,this.prioritySearch.options[this.prioritySearch.selectedIndex].value),r.CardsManager.sortByStatus(n),this.container.innerHTML="",n.length>0?n.forEach((function(e){var n,r=document.createElement("div");switch(r.classList.add("card"),r.id=e.id.toString(),console.log(typeof e.priority),Number(e.priority)){case 0:n="text-primary";break;case 1:n="text-success";break;case 2:n="text-danger";break;default:n="text-secondary"}console.log(n),e.done?(r.classList.add("done"),r.innerHTML='<h2 class="title card-title">'+e.title+' </h2>\n                    <p class="description card-body">'+e.description+'</p>\n                   \n                    <div class="line--bottom">\n                         <div class ="priority card-subtitle '+n+'">'+i.Priority.GetName(e.priority)+'</div>                                \n                         <div class="dropdown actions">\n                            <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                             Options\n                            </button>\n                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"> \n                            <button class=" functions__done dropdown-item">UnDone</button>\n                            <button class=" functions__edit dropdown-item">Edit</button>\n                            <div class="dropdown-divider"></div>\n                            <button class=" functions__delete dropdown-item text-danger">Delete</button>\n                            </div>\n                         </div>                                      \n                    </div>',r.querySelector(".functions__done").addEventListener("click",(function(){t.unDone(e.id)}))):(r.innerHTML='\n            <h2 class="title card-title">'+e.title+' </h2>\n            <p class="description card-body">'+e.description+'</p>\n           \n            <div class="line--bottom">\n                 <div class ="priority card-subtitle '+n+'">'+i.Priority.GetName(e.priority)+'</div>                                \n                 <div class="dropdown actions">\n                    <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                     Options\n                    </button>\n                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"> \n                    <button class=" functions__done dropdown-item">Done</button>\n                    <button class=" functions__edit dropdown-item">Edit</button>\n                    <div class="dropdown-divider"></div>\n                    <button class=" functions__delete dropdown-item text-danger">Delete</button>\n                    </div>\n                 </div>                                      \n            </div>',r.querySelector(".functions__done").addEventListener("click",(function(){t.done(e.id)}))),r.querySelector(".functions__delete").addEventListener("click",(function(){t.delete(e.id)})),r.querySelector(".functions__edit").addEventListener("click",(function(){t.edit(e.id)})),t.container.appendChild(r)})):this.container.innerHTML="<h1>No ToDOs!</h1>"},t.prototype.delete=function(t){this.store.Dispatch(o.userActions.rEMOVE_CARD(t))},t.prototype.edit=function(t){this.store.Dispatch(o.userActions.edit_Card(t))},t.prototype.done=function(t){this.store.Dispatch(o.userActions.set_Done(t))},t.prototype.unDone=function(t){this.store.Dispatch(o.userActions.set_Undone(t))},t}();e.ToDos=s}]);